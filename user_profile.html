<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - Mausam</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #4a90e2;
            color: white;
            text-align: center;
            padding: 1em;
        }
        .profile-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 20px;
        }
        h1, h2 {
            margin-top: 0;
        }
        .profile-info {
            margin-bottom: 20px;
        }
        .profile-info p {
            margin: 10px 0;
        }
        .edit-form {
            display: none;
        }
        input, button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #2c3e50;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #3e5f83;
        }
        .weather-preferences {
            margin-top: 20px;
        }
        .toggler {
            font-size: 24px;
            cursor: pointer;
            color: #ecf0f1;
            transition: transform 0.3s ease;
        }

        .toggler:hover {
            transform: scale(1.1);
        }


        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            height: 100%;
            width: 300px;
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar h1 {
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }

        .sidebar-menu {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .sidebar-item {
            padding: 10px;
            color: #ecf0f1;
            text-decoration: none;
            transition: background-color 0.3s;
        }

        .sidebar-item:hover {
            background-color: #34495e;
        }

        .profile {
            margin: 20px 0;
            padding: 10px;
            background-color: #34495e;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .profile:hover {
            background-color: #3e596e;
        }

        .profile-details {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #3e596e;
            border-radius: 5px;
        }

        #logout-btn {
            text-decoration: none;
        }

        .logout-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #e74c3c;
            color: #ecf0f1;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background-color: #c0392b;
        }

        .toggler {
            font-size: 24px;
            cursor: pointer;
            color: #ecf0f1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }

        .overlay.active {
            display: block;
        }

        .header {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px 0;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo a {
            text-decoration: none;
            color: white;
        }

        .logo h1 {
            margin: 0;
            font-size: 1.8em;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }


        .nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
        }

        .nav li {
            margin: 0 15px;
        }

        .nav a {
            color: #ecf0f1;
            text-decoration: none;
            font-weight: bold;
        }

        .footer {
            background-color: #2c3e50;
            color: #ecf0f1;
            text-align: center;
            padding: 15px 0;
        }

        .abc:hover {
            color: #3498db;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            height: 100%;
        }

        footer {
            margin-bottom: 0;
            margin-top: 550px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo-container">
                <div class="toggler" id="sidebarToggle">â˜°</div>
                <div class="logo">
                    <a href="./index.html">
                        <h1>Mausam</h1>
                    </a>
                </div>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="./main.html" class="abc">Home</a></li>
                    <li><a href="./main.html" class="abc">Forecast</a></li>
                    <li><a href="./aboutus.html" class="abc">About Us</a></li>
                    <li><a href="#" class="abc">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="sidebar" id="sidebar">
        <h1 id="welcome_message">Welcome, User!</h1>
        <div class="sidebar-menu">
            <a href="user_profile.html" class="sidebar-item">User Dashboard</a>
            <a href="" class="sidebar-item" onclick="notification_alert()">Notifications</a>
        </div>



        <a href="loginpage.html" id="logout-btn">
            <button class="logout-btn">Logout</button>
        </a>
    </div>
    <div class="overlay" id="overlay"></div>


    <div class="container">
        <div class="profile-card">
            <h2>User Profile</h2>
            <div class="profile-info">
                <p>Name: <span id="userName">Loading...</span></p>
                <p>Email: <span id="userEmail">Loading...</span></p>
                <p>Password: <span id="userPassword">********</span></p>
                <p>Age: <span id="userAge">Loading...</span></p>
                <p>Gender: <span id="userGender">Loading...</span></p>
                <p>Phone: <span id="userPhone">Loading...</span></p>
                <p>Birth Date: <span id="userBirthDate">Loading...</span></p>
                <p>Nationality: <span id="userNationality">Loading...</span></p>
                <p>Profession: <span id="userProfession">Loading...</span></p>
            </div>
            <button id="editButton">Edit Profile</button>
            <form id="editForm" class="edit-form">
                <input type="text" id="nameInput" placeholder="Name" required>
                <input type="email" id="emailInput" placeholder="Email" required>
                <input type="password" id="passwordInput" placeholder="New Password">
                <input type="number" id="ageInput" placeholder="Age">
                <select id="genderInput">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
                <input type="tel" id="phoneInput" placeholder="Phone Number">
                <input type="date" id="birthDateInput">
                <input type="text" id="nationalityInput" placeholder="Nationality">
                <input type="text" id="professionInput" placeholder="Profession">
                <button type="submit">Save Changes</button>
            </form>
        </div>
        <div class="weather-preferences">
            <h3>Weather Preferences</h3>
            <p>Preferred temperature unit: <span id="tempUnit">Celsius</span></p>
            <p>Favorite weather: <span id="favWeather">Sunny</span></p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 MAUSAM-WeatherApp. All rights reserved.</p>
    </footer>

<script>
        document.addEventListener('DOMContentLoaded', function() {
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');
        const userPassword = document.getElementById('userPassword');
        const userAge = document.getElementById('userAge');
        const userGender = document.getElementById('userGender');
        const userPhone = document.getElementById('userPhone');
        const userBirthDate = document.getElementById('userBirthDate');
        const userNationality = document.getElementById('userNationality');
        const userProfession = document.getElementById('userProfession');
        const editButton = document.getElementById('editButton');
        const editForm = document.getElementById('editForm');
        const nameInput = document.getElementById('nameInput');
        const emailInput = document.getElementById('emailInput');
        const passwordInput = document.getElementById('passwordInput');
        const ageInput = document.getElementById('ageInput');
        const genderInput = document.getElementById('genderInput');
        const phoneInput = document.getElementById('phoneInput');
        const birthDateInput = document.getElementById('birthDateInput');
        const nationalityInput = document.getElementById('nationalityInput');
        const professionInput = document.getElementById('professionInput');
    
        // Load user data from localStorage
        function loadUserData() {
            const userData = JSON.parse(localStorage.getItem('loggedInUser')) || {};
            userName.textContent = userData.name || 'Not set';
            userEmail.textContent = userData.email || 'Not set';
            userAge.textContent = userData.age || 'Not set';
            userGender.textContent = userData.gender || 'Not set';
            userPhone.textContent = userData.phone || 'Not set';
            userBirthDate.textContent = userData.birth_date || 'Not set';
            userNationality.textContent = userData.nationality || 'Not set';
            userProfession.textContent = userData.profession || 'Not set';
            // Password is not displayed for security reasons
        }
    
        // Save user data to localStorage
        function saveUserData(newData) {
            const userData = JSON.parse(localStorage.getItem('loggedInUser')) || {};
            const updatedUserData = { ...userData, ...newData };
            localStorage.setItem('loggedInUser', JSON.stringify(updatedUserData));
    
            // Update the signupData array as well
            const signupData = JSON.parse(localStorage.getItem('signupData')) || [];
            const userIndex = signupData.findIndex(user => user.email === userData.email);
            if (userIndex !== -1) {
                signupData[userIndex] = updatedUserData;
                localStorage.setItem('signupData', JSON.stringify(signupData));
            }
        }
    
        // Load initial data
        loadUserData();
    
        // Toggle edit form
        editButton.addEventListener('click', function() {
            const isEditing = editForm.style.display === 'block';
            editForm.style.display = isEditing ? 'none' : 'block';
            editButton.textContent = isEditing ? 'Edit Profile' : 'Cancel';
    
            if (!isEditing) {
                nameInput.value = userName.textContent;
                emailInput.value = userEmail.textContent;
                passwordInput.value = ''; // Clear password field for security
                ageInput.value = userAge.textContent;
                genderInput.value = userGender.textContent;
                phoneInput.value = userPhone.textContent;
                birthDateInput.value = userBirthDate.textContent;
                nationalityInput.value = userNationality.textContent;
                professionInput.value = userProfession.textContent;
            }
        });
    
        // Handle form submission
        editForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const newData = {
                name: nameInput.value,
                email: emailInput.value,
                age: ageInput.value,
                gender: genderInput.value,
                phone: phoneInput.value,
                birth_date: birthDateInput.value,
                nationality: nationalityInput.value,
                profession: professionInput.value
            };
            if (passwordInput.value) {
                newData.password = passwordInput.value;
            }
    
            saveUserData(newData);
            loadUserData();
    
            editForm.style.display = 'none';
            editButton.textContent = 'Edit Profile';
        });
    });
    
    // Sidebar functionality
    document.addEventListener('DOMContentLoaded', function () {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const profile = document.getElementById('profile');
        const profileDetails = document.getElementById('profileDetails');
    
        function toggleSidebar() {
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }
    
        sidebarToggle.addEventListener('click', toggleSidebar);
    
        overlay.addEventListener('click', toggleSidebar);
    
        if (profile && profileDetails) {
            profile.addEventListener('click', function () {
                profileDetails.style.display = profileDetails.style.display === 'block' ? 'none' : 'block';
            });
        }
    
        // Close sidebar when clicking outside
        document.addEventListener('click', function (event) {
            const isClickInside = sidebar.contains(event.target) || sidebarToggle.contains(event.target);
            if (!isClickInside && sidebar.classList.contains('open')) {
                toggleSidebar();
            }
        });
    
        // Prevent clicks inside the sidebar from closing it
        sidebar.addEventListener('click', function (event) {
            event.stopPropagation();
        });
    
        // Social media link alerts
        document.getElementById('facebook')?.addEventListener('click', function (e) {
            e.preventDefault();
            alert('Facebook link is currently unavailable.');
        });
        document.getElementById('twitter')?.addEventListener('click', function (e) {
            e.preventDefault();
            alert('Twitter link is currently unavailable.');
        });
        document.getElementById('Instagram')?.addEventListener('click', function (e) {
            e.preventDefault();
            alert('Instagram link is currently unavailable.');
        });
    
        // Logout button functionality
        document.querySelector('.logout-btn')?.addEventListener('click', function () {
            localStorage.removeItem('loggedInUser');
            alert('You have been logged out.');
            window.location.href = 'loginpage.html';
        });
    
        // Search functionality (placeholder)
        document.querySelector('.search button')?.addEventListener('click', function () {
            const searchInput = document.querySelector('.search input');
            if (searchInput) {
                alert(`Searching for: ${searchInput.value}`);
                searchInput.value = '';
            }
        });
    });
    
    // Update the welcome message
    const welcomeMessage = document.getElementById('welcome_message');
    
    function loadUserName() {
        const userData = JSON.parse(localStorage.getItem('loggedInUser')) || {};
        if (welcomeMessage) {
            welcomeMessage.textContent = "Welcome " + (userData.name || "User");
        }
    }
    loadUserName();
    
    function notification_alert() {
        alert("Uh Oh! You have 0 notifications!");
    }
    </script>
</body>
</html>

